{# CSS librairies #}
<link rel="stylesheet" href="https://unpkg.com/boxicons@2.0.7/css/boxicons.min.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.1/css/all.min.css" />
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" crossorigin="anonymous">
<link rel="stylesheet" href="{{ asset('assets/css/bootstrap.min.css') }}">
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.4.1/css/glide.core.css" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/Glide.js/3.4.1/css/glide.theme.css" />

{# CSS personnalisées #}
<link rel="stylesheet" href="{{ asset('assets/css/cart.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/nav.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/carrousel.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/section.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/product-is-best.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/lightslider.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/login-register.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/contact-form.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/footer.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/invoice.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/slide-img-product-show.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/msg-d-alerte.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/promos-site.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/show-product-slider.css') }}">
<link rel="stylesheet" href="{{ asset('assets/css/products.css') }}">

{# JS librairies et scripts globaux #}
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.3/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ asset('assets/js/bootstrap.bundle.js') }}"></script>
<script src="{{ asset('assets/js/script-login-register.js') }}"></script>
<script src="{{ asset('assets/js/erreur-register.js') }}"></script>
<script src="{{ asset('assets/js/show-pwd-login.js') }}"></script>
<script src="{{ asset('assets/js/show-pwd-register.js') }}"></script>
<script src="{{ asset('assets/js/cart.js') }}"></script>

{# Popup login open/close spécifique maintenance #}
<script>
    $(document).ready(function() {
        // Ouvrir le popup
        $('#open-login-popup').click(function() {
            $('.wrapper').addClass('active-popup');
        });

        // Fermer le popup
        $(document).on('click', '.icon-close', function() {
            $('.wrapper').removeClass('active-popup');
        });

        // Afficher / cacher les mots de passe
        $(document).on('click', '.show-password-login', function() {
            const passwordField = $('#inputPassword');
            const type = passwordField.attr('type') === 'text' ? 'password' : 'text';
            passwordField.attr('type', type);
            $(this).text(type === 'text' ? 'Cacher' : 'Afficher');
        });

        $(document).on('click', '.show-password', function() {
            const passwordField = $('#register_password_first');
            const type = passwordField.attr('type') === 'text' ? 'password' : 'text';
            passwordField.attr('type', type);
            $(this).text(type === 'text' ? 'cacher' : 'afficher');
        });

        $(document).on('click', '.show-password-retype', function() {
            const passwordField = $('#register_password_second');
            const type = passwordField.attr('type') === 'text' ? 'password' : 'text';
            passwordField.attr('type', type);
            $(this).text(type === 'text' ? 'cacher' : 'afficher');
        });

        // Ouvrir automatiquement si ?login=1
        {% if app.request.get('login') %}
            $('.wrapper').addClass('active-popup');
        {% endif %}

        // Afficher modal si erreur d'inscription
        {% if app.flashes('register_error') is not empty %}
            $('.wrapper').addClass('active-popup');
        {% endif %}
    });

</script>
